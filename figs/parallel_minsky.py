simple=[1, 1.56300178751939, 1.84382490162317, 2.0044516878807, 2.13911227396062, 2.25243083229679, 2.29543592892134, 2.3617082145629, 2.42801524708647, 2.50974630009818, 2.4944601966065, 2.50932556332086, 2.48912358191009, 2.52488236001776, 2.51471235524822, 2.56813231921636, 2.48686186935433, 2.55593927076166, 2.56087061460946, 2.56135987257693, 2.53995492147582, 2.57373910910266, 2.58483007261212, 2.54951244792787, 2.56743456380131, 2.57681336014208, 2.60234807264767, 2.56807426043587, 2.57917082004109, 2.60457931696168, 2.59996461536824, 2.61061663510869, 2.64038764968255, 2.6245406309971, 2.60116058502551, 2.62738109538936, 2.66029398319931, 2.6552147153865, 2.63738265777499, 2.64192092730871, 2.63073404279015, 2.67809233792835, 2.61064706869644, 2.63758791495432, 2.63519104576047, 2.63260784248526, 2.61870245623505, 2.66067819349156, 2.67018939667744, 2.67101868305835, 2.63505928473835, 2.67078171517311, 2.6842898074316, 2.65959620294672, 2.64260946249499, 2.63919476839444, 2.70318899957539, 2.64662082736306, 2.63097993379201, 2.66684753277675, 2.62891036192799, 2.68596077947095, 2.62446473501128, 2.65453741368145, 2.66651555473989, 2.63010984830089, 2.66095665110634, 2.62532109631365, 2.63365325881157, 2.66086303160365, 2.64074639569704, 2.64306960365258, 2.65294235894761, 2.64882555959927, 2.64531516963833, 2.61756301676293, 2.65520163205654, 2.64170633446278, 2.6359852735134, 2.63565231312419, 2.62695721512763, 2.60393742867675, 2.65478123518355, 2.64886527273766, 2.66903000409743, 2.64182176181552, 2.62723874602676, 2.641521720235, 2.63027850729059, 2.63878241276485, 2.65331146546517, 2.48167725321167, 2.63817473616777, 2.62535946823989, 2.63003330896846, 2.65216439583237, 2.65358772981203, 2.60622993406903, 2.64838879365676, 2.60156778096304, 2.65539094405085, 2.64542320148382, 2.66957469234297, 2.64552758924441, 2.63345842677925, 2.666437211731, 2.64105588839866, 2.64585955810879, 2.63531983959115, 2.65801538672598, 2.6119181660445, 2.66047811116504, 2.62897392961421, 2.63242570331325, 2.62080218607852, 2.62964257851572, 2.65493214414166, 2.61301365275448, 2.63876674498458, 2.66821920982648, 2.64971646174673, 2.66953501705433, 2.63244105475978, 2.62830009224547, 2.60015217032098, 2.64580596982177, 2.64488799865145, 2.60836604347526, 2.63065353411301, 2.61312278469365, 2.44458748472349, 2.60382347938569, 2.65133340256508, 2.59833828807115, 2.63586535940227, 2.62128911167919, 2.63324062228743, 2.63691062295868, 2.62593566163297, 2.66340944557869, 2.64238236736719, 2.624247457094, 2.62869290833668, 2.64491363800221, 2.61267807768285, 2.65219898766421, 2.63765900399622, 2.6541289924714, 2.63342223077446, 2.64360690776634, 2.64595098798528, 2.63569356599298, 2.62834688424872, 2.66411178035983, 2.61060817706874, 2.63107884904499, 2.59707270405954, 2.63685400948976, 2.5784557959241, 2.59172409717373]
stream=[ 1, 2.0605954985566, 2.15969081029839, 3.74576142334446, 3.96181409695153, 3.46617619438183, 3.8730179855689, 3.68224098908645, 4.05094271388659, 3.85189762354368, 3.98585237793925, 3.81928944251335, 3.4339228689215, 3.66693475879915, 3.75793055553669, 3.77775018989426, 3.7000095153498, 3.85645707394338, 3.8609465124562, 4.06511821669702, 3.9329183071006, 3.85237123798942, 4.10211594610497, 3.78955737195571, 3.73429688374375, 3.57600291661393, 3.72980765950351, 3.72911701575189, 3.60662479293762, 3.93984339118215, 3.71660228348885, 3.9260115253612, 3.79813290252696, 3.82938303655004, 3.87294000038979, 3.92891483287665, 3.80997844405252, 3.87630372093254, 3.83904122090083, 3.76617605976243, 3.88541783241938, 3.85080891704266, 3.69346615656008, 3.62377924625439, 3.73413715741532, 3.85357229830273, 3.6811224876195, 3.81989259188143, 3.93106742128093, 3.65795918491877, 3.73636214994483, 3.33480614464196, 3.77498944957369, 3.86496958112679, 3.58471465681729, 3.8654144292875, 3.7839476833082, 3.68080605395988, 3.9966522975175, 3.92122167390588, 3.8198402600121, 3.69506357362386, 3.80526728167446, 3.8092614246467, 3.78806512200634, 3.88892268266452, 3.54068421631349, 3.74194092050916, 3.63928915044718, 3.98284846651391, 3.82254229519228, 3.72381964220231, 3.64716481577191, 3.64519584559689, 3.8482681115244, 3.33002462965025, 3.93333248036002, 3.77025331183792, 3.54858827160055, 3.8904630671306, 3.26362751685312, 3.72330772958952, 3.61884116325964, 3.83261104843885, 3.65254883243885, 4.00598665610084, 3.95386911665028, 4.08873045995343, 3.9875178224569, 3.78876699956802, 3.91252369435484, 4.05366006986782, 3.9311284306107, 4.00131803912534, 3.87470565327763, 3.75035797964868, 3.57982111191518, 3.80930459150496, 3.80964108447637, 3.55105889173268, 3.795179713511, 3.78616031113463, 3.63602187984283, 3.810838658466, 3.92829478572466, 3.87741901474384, 3.32447798965361, 3.90837516445946, 4.07173061409866, 3.88702138979123, 3.47729341387528, 3.71536225985736, 3.92202636965584, 3.64147735383538, 3.78793546871266, 3.80570171340891, 3.81799455222627, 3.93194622433797, 3.72619215840166, 3.91018773488603, 3.50228331088111, 3.87004467924285, 3.72130037120622, 3.71339681062191, 3.52746477982308, 3.89373970158703, 3.87653433229157, 3.67932594248461, 3.97148082982164, 3.84604811819659, 3.54427574257187, 3.75662710097023, 3.98132749539917, 3.50537296766181, 3.99602844569665, 3.88400222619939, 3.7054824685887, 3.73239811065483, 3.81211900184086, 4.01483897800139, 4.05442635427878, 3.74156607111186, 3.49321825075175, 3.93656154734682, 3.57637377257041, 3.78052649458235, 3.80737836584472, 3.83255836751047, 3.27590037802607, 3.92956040475629, 4.13048117165623, 3.75038417978008, 3.35308912760727, 3.29858741855165, 3.83777508161661, 3.52301464485944, 3.48722130111816, 3.17762738080482, 3.4776222221814, 3.2519119112241]
adaptive=[ 1, 1.33377664219311, 1.6978375882516, 2.02763147499327, 2.72036118518269, 2.89307059978669, 4.57509452596467, 6.74390866714371, 7.44832132481632, 7.69113666924622, 9.26178562643339, 9.70217109369394, 11.1531171132074, 10.8548069768793, 11.404457081501, 11.4312098564331, 11.4724961342146, 11.5129011231264, 12.242241049499, 10.8514662331476, 11.9345006885124, 14.3663026371356, 13.7058454254756, 14.3736480022494, 13.7403583785556, 13.5433759268533, 13.9357440370212, 15.023689042638, 14.1949301163041, 16.2338162712944, 13.0042138767356, 15.2419241065188, 15.4903180641466, 15.9127296684794, 14.4890313289104, 16.0843489375272, 16.7363303569527, 14.3607466069807, 15.0633154392697, 15.9253645658768, 16.620739787186, 15.1522181970071, 13.4093562553937, 15.2190390362286, 15.1844732953898, 15.8051802349061, 15.6507833916328, 16.5917208738174, 16.1878711008399, 16.8814807522787, 15.6691400993471, 15.2756078757833, 14.756144563422, 14.627723149255, 15.0243890588934, 15.4018473120079, 15.3514030617435, 15.8558432929067, 15.4221898282858, 15.9479031836708, 15.2119268396633, 15.9351853963765, 15.6088949459519, 15.9689779353502, 16.2815827360484, 15.9838284433828, 15.9412386341213, 15.7575905154321, 16.5417574462656, 17.1740640777662, 15.7623504166733, 16.2883521163428, 16.2641755243935, 16.3629046388936, 16.8404648939205, 16.3391220064859, 16.1829340743292, 16.1435874570328, 16.0734120610337, 16.147021436685, 16.0897680631327, 16.2680538265406, 16.6151035017015, 15.5542911187723, 16.6101876845575, 18.7584785540118, 17.5232793564578, 15.0689650489532, 16.9841543240445, 18.0457787204, 18.0236911805173, 18.1494952313373, 17.3675972191149, 17.2084851686073, 17.7104477219574, 18.3152036926638, 16.7904813785258, 17.3095787687213, 14.0861953284354, 18.2606310478484, 17.86775261763, 18.4192433185092, 18.5261636643273, 16.2648626836252, 16.7387808126673, 16.99816577749, 18.8032617591091, 17.1781303942188, 16.5925454518267, 20.4914562132286, 16.4089580347648, 16.6425890283997, 17.6479567994185, 16.0980890643481, 18.508731167181, 15.9195719211897, 18.2199937024058, 17.1875528755411, 17.5347793936177, 16.5173005896456, 17.85551604691, 17.1293679956449, 18.4391838194972, 17.1803833366197, 17.2133217321318, 16.7548825418707, 17.5882009051698, 16.1848918594849, 17.2336162138112, 17.4129440538429, 18.5281744197868, 17.4533915006616, 17.1910223870735, 17.837373903571, 17.0846950586624, 17.0820881432061, 18.117246893571, 17.2135023707581, 17.6843057062702, 17.9556578292954, 16.4976832254679, 14.8584167653568, 18.1484911895862, 17.0056362559466, 15.4034131181061, 14.7958325113841, 16.4164552252607, 18.3959635756342, 17.7876201576264, 16.3591299506367, 14.4760053841502, 17.9591793794744, 17.7456440109295, 18.1011656610971, 16.1377937700349, 17.6822170155985, 15.7058914626704, 18.030909801725, 17.6361594798752, 17.082003064418]#import seaborn
from pylab import *
import matplotlib.pyplot as plt
from scipy.optimize import curve_fit
colors = ['orange','g','magenta']

import numpy as np

def func(s,p):
    return 1.0/((1.0-p)+p/s)

def drawfit(ydata,colors):
    xdata = np.array(range(len(ydata)),dtype=float)
    popt, pcov = curve_fit(func, xdata, ydata)
    xdata = np.array(range(len(ydata)),dtype=float)
    plt.plot([func(x,*popt) for x in xdata],color = colors)


drawfit(simple,colors[0])
plt.plot(simple,'o',color = colors[0],label='RPHash',markersize=6)
drawfit(stream,colors[1])
plt.plot(stream,'^',color = colors[1],label='Streaming',markersize=6)
drawfit(adaptive,colors[2])
plt.plot(adaptive,'v',color = colors[2],label='TWRP',markersize=6)
plt.title("Total Speedup as a function of Processing Threads")
plt.ylabel("Total Speedup")
plt.xlabel("Parallel Speedup")
plt.grid()

plt.legend(loc='4')
plt.show()



